var Vigenere=function(){this.KEY="vigenere";this.ALPHABET_UPPER="ABCDEFGHIJKLMNOPQRSTUVXYWZ\u00c7".split("");this.ALPHABET_LOW="abcdefghijklmnopqrstuvxywz\u00e7".split("");this.ALPHABET_LEN=this.ALPHABET_LOW.length;this.encripty=function(f,a){a=void 0===a?this.KEY:a;a.toUpperCase();a.toLowerCase();for(var k=this.removeAccentuation(f).split(" "),l=this.repeatKeyUntilDoneWord(this.removeAccentuation(f),a).split(" "),d="",b=0;b<k.length;b++){var g=l[b],h=k[b],n=g.length;0<b&&(d+=" ");for(var e=0;e<n;e++){var c=
-1==this.ALPHABET_UPPER.join("").indexOf(g.charAt(e))?this.ALPHABET_LOW.join(""):this.ALPHABET_UPPER.join("");pos=c.indexOf(g.charAt(e));c=c.charAt((pos+c.indexOf(h.charAt(e)))%this.ALPHABET_LEN);d+=c}}return d};this.dencripty=function(f,a){a=void 0===a?this.KEY:a;a.toUpperCase();a.toLowerCase();for(var k=f.split(" "),l=this.repeatKeyUntilDoneWord(f,a).split(" "),d="",b=0;b<k.length;b++){var g=l[b],h=k[b],n=h.length;0<b&&(d+=" ");for(var e=0;e<n;e++){var c=-1==this.ALPHABET_UPPER.join("").indexOf(h.charAt(e))?
this.ALPHABET_LOW.join(""):this.ALPHABET_UPPER.join(""),m=c.charAt(this.ALPHABET_LEN-c.indexOf(h.charAt(e)));m=this.ALPHABET_LEN-c.indexOf(m);var p=g.charAt(e);p=c.indexOf(p);m=this.ALPHABET_LEN-(this.ALPHABET_LEN-m+p)%this.ALPHABET_LEN;c=c.charAt(m==this.ALPHABET_LEN?0:m);d+=c}}return d};this.repeatKeyUntilDoneWord=function(f,a){a=void 0===a?this.KEY:a;for(var k=a.toUpperCase(),l=a.toLowerCase(),d=f.split(" "),b="",g=-1,h=0;h<d.length;h++){var n=d[h],e=n.length;0<h&&(b+=" ");for(var c=0;c<e;c++){var m=
-1==this.ALPHABET_UPPER.join("").indexOf(n.charAt(c))?l:k;g+1<m.length?g++:g=0;b+=m.charAt(g)}}return b};this.removeAccentuation=function(f){for(var a="\u00e1\u00e0\u00e2\u00e3\u00e9\u00e8\u00ea\u00ed\u00ef\u00f3\u00f4\u00f5\u00f6\u00fa\u00f1".split(""),k="aaaaeeeiiooooun".split(""),l=[],d=0;d<f.length;d++){var b=a.indexOf(f.charAt(d));-1===b?l.push(f.charAt(d)):l.push(k[b])}return l.join("")}};
